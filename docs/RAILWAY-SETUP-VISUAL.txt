â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    RAILWAY ARCHITECTURE FOR SHENNA'S STUDIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  RAILWAY.APP    â”‚
                              â”‚    PROJECT      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                      â”‚                      â”‚
                â–¼                      â–¼                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PostgreSQL      â”‚  â”‚      Redis        â”‚  â”‚   Application     â”‚
    â”‚   Database        â”‚  â”‚      Cache        â”‚  â”‚    Services       â”‚
    â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚
    â”‚ âœ… Auto-Config    â”‚  â”‚ âœ… Auto-Config    â”‚  â”‚ âš™ï¸ Manual Setup   â”‚
    â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚
    â”‚ Port: 5432        â”‚  â”‚ Port: 6379        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
            â”‚                      â”‚                         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
                       â”‚                                     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                   â”‚                         â”‚
                                   â–¼                         â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  MEDUSA BACKEND     â”‚  â”‚  NEXT.JS FRONTEND   â”‚
                       â”‚  (API + Admin)      â”‚  â”‚    (Storefront)     â”‚
                       â”‚                     â”‚  â”‚                     â”‚
                       â”‚  Port: 9000         â”‚  â”‚  Port: 3000         â”‚
                       â”‚                     â”‚  â”‚                     â”‚
                       â”‚  Environment Vars:  â”‚  â”‚  Environment Vars:  â”‚
                       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
                       â”‚  â€¢ DATABASE_URL â”€â”€â” â”‚  â”‚  â€¢ BACKEND_URL â”€â”€â”€â” â”‚
                       â”‚  â€¢ REDIS_URL â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â€¢ PUBLISHABLE_KEYâ”‚ â”‚
                       â”‚  â€¢ JWT_SECRET     â”‚ â”‚  â”‚  â€¢ STRIPE_PUB_KEY â”‚ â”‚
                       â”‚  â€¢ COOKIE_SECRET  â”‚ â”‚  â”‚  â€¢ NEXTAUTH_SECRETâ”‚ â”‚
                       â”‚  â€¢ STRIPE_API_KEY â”‚ â”‚  â”‚  â€¢ CORS CONFIG    â”‚ â”‚
                       â”‚  â€¢ ADMIN_EMAIL    â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚  â€¢ ADMIN_PASSWORD â”‚ â”‚              â”‚
                       â”‚  â€¢ CORS CONFIG    â”‚ â”‚              â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                   â”‚                         â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                             â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CUSTOM DOMAINS     â”‚
                    â”‚                      â”‚
                    â”‚  Backend:            â”‚
                    â”‚  api.shennastudio.comâ”‚
                    â”‚                      â”‚
                    â”‚  Frontend:           â”‚
                    â”‚  shennastudio.com    â”‚
                    â”‚  www.shennastudio.comâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                             ENVIRONMENT VARIABLE FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: PostgreSQL â†’ Backend
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  PostgreSQL Service generates:
    âœ“ DATABASE_URL
    âœ“ POSTGRES_USER
    âœ“ POSTGRES_PASSWORD
    âœ“ POSTGRES_DB
    
  Backend references:
    DATABASE_URL=${{PostgreSQL.DATABASE_URL}}

STEP 2: Redis â†’ Backend
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Redis Service generates:
    âœ“ REDIS_URL
    âœ“ REDIS_PASSWORD
    
  Backend references:
    REDIS_URL=${{Redis.REDIS_URL}}

STEP 3: Backend â†’ Frontend
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Backend provides:
    âœ“ API Endpoint (https://api.shennastudio.com)
    âœ“ Publishable Key (from Admin Panel)
    
  Frontend uses:
    NEXT_PUBLIC_MEDUSA_BACKEND_URL=https://api.shennastudio.com
    NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=pk_...

STEP 4: External Services â†’ Both
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Stripe (Required):
    Backend:  STRIPE_API_KEY=sk_live_...
    Frontend: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
  
  Algolia (Optional):
    Both:     ALGOLIA_* variables
  
  Cloudinary (Optional):
    Both:     CLOUDINARY_* variables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              DEPLOYMENT ORDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. Create Railway Project
            â†“
  2. Add PostgreSQL Service (auto-configures)
            â†“
  3. Add Redis Service (auto-configures)
            â†“
  4. Configure Backend Service
     â€¢ Set root directory: ocean-backend
     â€¢ Add 18 required environment variables
     â€¢ Reference PostgreSQL and Redis
            â†“
  5. Deploy Backend
     â€¢ Wait for deployment to complete
     â€¢ Check health endpoint
            â†“
  6. Access Admin Panel
     â€¢ Login at: https://[backend-url].railway.app/app
     â€¢ Get Publishable Key from Settings
            â†“
  7. Configure Frontend Service
     â€¢ Set root directory: / (or empty)
     â€¢ Add 8 required environment variables
     â€¢ Include Publishable Key from step 6
            â†“
  8. Deploy Frontend
     â€¢ Wait for deployment to complete
     â€¢ Verify storefront loads
            â†“
  9. Configure Custom Domains
     â€¢ Backend: api.shennastudio.com
     â€¢ Frontend: shennastudio.com, www.shennastudio.com
            â†“
 10. Update Environment Variables
     â€¢ Backend: Update CORS with production domains
     â€¢ Frontend: Update BACKEND_URL to custom domain
            â†“
 11. Test Complete System
     â€¢ Browse products
     â€¢ Add to cart
     â€¢ Complete checkout
     â€¢ Verify admin panel

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           REQUIRED SECRETS TO GENERATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Run these commands BEFORE deployment:

Backend:
  JWT_SECRET (64 chars):     openssl rand -hex 32
  COOKIE_SECRET (64 chars):  openssl rand -hex 32
  ADMIN_PASSWORD (32 chars): openssl rand -base64 24

Frontend:
  NEXTAUTH_SECRET (44 chars): openssl rand -base64 32

External:
  Get from Stripe Dashboard:
    - STRIPE_API_KEY (sk_live_...)
    - STRIPE_SECRET_KEY (sk_live_...)  
    - NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (pk_live_...)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              HELPFUL RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Documentation Files Created:
  ğŸ“– RAILWAY-DEPLOYMENT-INDEX.md         - Start here!
  ğŸ—ï¸ RAILWAY-ARCHITECTURE.md             - Visual diagrams
  ğŸ”§ RAILWAY-PRODUCTION-ENV.md           - Complete variable guide
  âš¡ RAILWAY-ENV-QUICK-REFERENCE.md      - Quick copy-paste config
  ğŸ’» RAILWAY-LOCAL-SETUP.md              - Local development guide

External Links:
  ğŸš‚ Railway Docs:  https://docs.railway.app
  ğŸ›’ Medusa Docs:   https://docs.medusajs.com
  ğŸ’³ Stripe Dash:   https://dashboard.stripe.com

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

