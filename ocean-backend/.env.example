# Ocean Backend Environment Configuration
# Copy this file to .env and fill in your actual values
# SECURITY WARNING: Never commit actual secrets to version control

# ===========================================
# DATABASE CONFIGURATION (REQUIRED)
# ===========================================
# PostgreSQL connection string
DATABASE_URL="postgresql://username:password@host:port/database"

# Optional: Database name (extracted from DATABASE_URL if not provided)
# DATABASE_NAME=medusa_db

# SSL Configuration for database connections
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false

# Optional: Enable database query logging for debugging
# DATABASE_LOGGING=false

# ===========================================
# REDIS CONFIGURATION (REQUIRED)
# ===========================================
# Redis connection string (required for cache, event bus, and workflow engine)
REDIS_URL=redis://localhost:6379

# Optional: Cache TTL in seconds (default: 30)
# CACHE_TTL=30

# ===========================================
# SECURITY SECRETS (REQUIRED)
# ===========================================
# IMPORTANT: Generate strong secrets for production
# Generate with: openssl rand -hex 32

# JWT Secret for authentication token generation (minimum 32 characters)
JWT_SECRET=your_jwt_secret_minimum_32_characters_long

# Cookie Secret for session cookie signing (minimum 32 characters)
COOKIE_SECRET=your_cookie_secret_minimum_32_characters_long

# ===========================================
# WORKER MODE (OPTIONAL)
# ===========================================
# Options: shared | worker | server
# - shared: Both HTTP and worker processes run together (default)
# - worker: Only worker processes run
# - server: Only HTTP server runs
# WORKER_MODE=shared

# ===========================================
# CORS CONFIGURATION (REQUIRED)
# ===========================================
# Allowed origins for Store API (customer-facing storefront)
# shop.shennastudio.com = storefront, www/root = main website
STORE_CORS=http://localhost:3000,https://shop.shennastudio.com,https://www.shennastudio.com,https://shennastudio.com

# Allowed origins for Admin API (admin dashboard)
# admin.shennastudio.com = backend/admin panel
ADMIN_CORS=http://localhost:9000,https://admin.shennastudio.com

# Allowed origins for Authentication
AUTH_CORS=http://localhost:3000,https://shop.shennastudio.com,https://www.shennastudio.com,https://shennastudio.com

# ===========================================
# COOKIE CONFIGURATION (OPTIONAL)
# ===========================================
# Cookie SameSite policy: strict | lax | none
# COOKIE_SAME_SITE=lax

# ===========================================
# ADMIN DASHBOARD CONFIGURATION
# ===========================================
# Disable admin dashboard (default: false)
# DISABLE_ADMIN=false

# Backend URL for admin panel (required for admin to work)
# Development:
BACKEND_URL=http://localhost:9000
# Production (uncomment and use):
# BACKEND_URL=https://admin.shennastudio.com

# Alternative backend URL variable
MEDUSA_BACKEND_URL=http://localhost:9000

# Admin dashboard path (default: /app)
# ADMIN_PATH=/app

# ===========================================
# ADMIN USER SETUP (FOR SCRIPTS)
# ===========================================
# Used by create-admin script - Change these for production
ADMIN_EMAIL=admin@shennastudio.com
ADMIN_PASSWORD=ChangeThisPassword123!

# ===========================================
# DEPLOYMENT CONFIGURATION (OPTIONAL)
# ===========================================
# Auto-run migrations on startup (used by Docker/Coolify)
# AUTO_MIGRATE=true

# Auto-seed database on startup (used by Docker/Coolify)
# AUTO_SEED=false

# Auto-create admin user on startup (used by Docker/Coolify)
# AUTO_CREATE_ADMIN=true

# ===========================================
# ENVIRONMENT SETTINGS
# ===========================================
# Node environment: development | production | test
NODE_ENV=development

# Enable debug logging (useful for development)
# DEBUG=medusa:*

# ===========================================
# FEATURE FLAGS (OPTIONAL)
# ===========================================
# Enable experimental features
# FEATURE_PRODUCT_CATEGORIES=false
# FEATURE_VIEW_CONFIGURATIONS=false
